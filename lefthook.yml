pre-commit:
  parallel: false
  commands:
    fmt-lint:
      run: |
        echo "ğŸ”§ Running formatter and linter..."
        if ! make lint; then
          echo "âŒ Linting/formatting failed. Please fix the issues and try again."
          exit 1
        fi
        if ! git diff --quiet; then
          echo "âš ï¸ Code was formatted. Please review and re-stage changes."
          git --no-pager diff
          exit 1
        fi
        echo "âœ… Linting/formatting passed."
        echo "ğŸ” Running tests..."
        if ! make test/unit; then
          echo "âŒ Tests failed. Please fix the issues and try again."
          exit 1
        fi
        echo "âœ… Tests passed."
        echo "ğŸ” Running security checks..."
        if ! make security; then
          echo "âŒ Security checks failed. Please fix the issues and try again."
          exit 1
        fi
        echo "âœ… Security checks passed."
        echo "ğŸ” Running coverage..."
        if ! make coverage; then
          echo "âŒ Coverage checks failed. Please fix the issues and try again."
          exit 1
        fi
        echo "âœ… Coverage checks passed."
        echo "âœ… All checks passed."